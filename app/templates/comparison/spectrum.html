<div style="height:650px; position:relative;">

<!--
		<div class="span-1" style="position:absolute; height:100%; background-color:white; opacity:0.05"></div>
		<div class="push-1 span-1" style="position:absolute; height:100%; background-color:white; opacity:0.05;"></div>
		<div class="push-2 span-1" style="position:absolute; height:100%; background-color:white; opacity:0.05;"></div>
		<div class="push-3 span-1" style="position:absolute; height:100%; background-color:white; opacity:0.05;"></div>
		<div class="push-4 span-1" style="position:absolute; height:100%; background-color:white; opacity:0.05;"></div>
		<div class="push-5 span-1" style="position:absolute; height:100%; background-color:white; opacity:0.05;"></div>
-->
		<p class="franklinMedIt purple comparisonExpText"> <%= comparison.get("title") %></p>
		<hr class="bgPurple" style="height:3px"/>
		<div class = "span-3" style="height:450px; position:relative; border-right-style:dotted;"></div>

		<!-- vals in here are incorrect. working on bug fix (dividing by 3 for now). JM -->
		<% 	var val0 = comparison.get("traits")[0].vals[0]/3.0; 
			var val1 = comparison.get("traits")[0].vals[1]/3.0; 
			var totalBarH = 450; 
			var totalH = 600;
			var range = [comparison.get("range")[0], comparison.get("range")[1]]
				
			function mapVal(val) {
				var h = totalBarH*(100*val-range[0])/(range[1]-range[0]);
				var t = totalH-h;
				return [h,t];
			}
			%>


		<div class="spectrumPointer bgPurple push-1 span-2" style="top:<%= mapVal(val0)[1] - 50%>px;" >
			<p class="franklinMedCompIt spectrumText" > Obama </p>  <p class="franklinMedComp spectrumValue" > <%=  Math.round(10000*val0)/100 %> </p> </div>
		<div class="spectrumPointer bgRedOrange push-3 span-2" style="top:<%= mapVal(val1)[1] - 50%>px;" >
			<p class="franklinMedCompIt spectrumText" > Romney </p>  <p class="franklinMedComp spectrumValue" > <%=  Math.round(10000*val1)/100 %>  </p> </div>
		
		<% comparison.get("traits").forEach(function(trait){ 
		
			if (trait.name == "honesty") {  
				
				var people = ["Bush 2000", "Obama 2008", "Cheney 2004", "Edwards 2004"];
				var values = [5.22, 4.15, 0.80, 1.40]; 
				
			} else if (trait.name == "formality") {
			
				var people = ["Bush 2000", "Reagan 1984", "McCain 2008","Bush 2004"];
				var values = [1.02, 1.59, 2.39, 3.23]; 
				
			} 
			
				for (var i = 0; i < 4 ; i++) { %>
				
					<div class="spectrumLineContainer push-<%=2+i%2%>" style="top:<%= mapVal(values[i]/100.0)[1] %>px"> 
					<p class="franklinDemiCompIt comparisonPastCandidate grayBlue" style="top:-50px" > <%=people[i] %></p>
					<hr class="span-1 bgGrayBlue" /> 
					<p class="franklinDemiComp comparisonPastValue" style="top:-15px" > <%=values[i]%> </p> 
					</div>
			
				<% } %>
			
		<% }); %>
		<div style="height:450px; position:relative;"> </div>
		<p class="franklinMedIt redOrange comparisonExpText"><%= comparison.get("subtitle") %></p>

</div>


